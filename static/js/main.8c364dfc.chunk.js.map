{"version":3,"sources":["MaterialTableIcons.js","App.js","index.js"],"names":["tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","BasicTable","useState","isLoading","id","Query","BU","parentid","previsu_data","previous_action","data","setData","title","field","columns","ExportMaster","master_export","template_query","template_json","temp","push","includes","skip_firster","substring","temp_sub","fileData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","download","href","click","DrageState","row","dropIndex","reOrderRow","from","to","_data","newtableData","arr","console","log","start","slice","between","end","return_list","reload_data","temp_list","range","Array","length","keys","zip","first","second","min_math","Math","min","new_between","splice","new_return","offsetIndex","first_set","first_disable","className","onChange","e","file","target","files","reader","FileReader","onload","jsonObj","parse","result","query_list","temp_que","random_id","floor","random","skip_first","sub_data","readAsBinaryString","style","width","height","CircularProgress","value","editable","onRowUpdate","newValue","oldValue","rowData","columnDef","Promise","resolve","reject","setTimeout","dataUpdate","row_table","target_id","pass_index","filter","t","onRowDelete","forEach","rd","new_data","parentChildData","rows","find","a","icons","options","headerSelectionProps","disabled","sorting","paging","padding","selection","draggable","selectionProps","rowStyle","fontSize","actions","icon","tooltip","onClick","position","event","alert","index_variable","index_partent","id_list","obj","undefined","item_key","element","components","Row","onDragStart","onDragEnter","onDragEnd","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c364dfc.chunk.js","sourcesContent":["import React, { forwardRef } from \"react\";\r\n\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\n\r\nconst tableIcons = {\r\n  Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n  Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n  Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n  DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n  Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n  Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n  FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n  LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n  NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n  PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n  ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n  Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n  SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n  ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n  ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />),\r\n};\r\n\r\nexport default tableIcons;","import MaterialTable,{MTableBodyRow} from \"@material-table/core\";\r\n//import MaterialTable,{MTableBodyRow} from \"material-table\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n//import { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport tableIcons from \"./MaterialTableIcons.js\";\r\nimport React ,{ useState,useEffect } from 'react';\r\n//import axios from \"axios\";\r\nimport * as XLSX from 'xlsx/xlsx.mjs';\r\n//import {XLSX} from 'xlsx/xlsx.mjs';\r\nimport {zip} from 'pythonic';\r\n\r\n//import reportWebVitals from './reportWebVitals';\r\n\r\n//import { CsvBuilder } from 'filefy';\r\n\r\n//TODO:\r\n//Add CircularPogress for row editining\r\n\r\n\r\nconst BasicTable = () => {\r\n//   console.time('Timer name');\r\n//   console.log('start')\r\n// //do critical time stuff\r\n// console.timeEnd('Timer name');\r\n//props.isLoading = false\r\n\r\n//const { useState } = React;\r\nconst [isLoading, setIsLoading] = useState(false);\r\n \r\n\r\nconst [forward_data,forward_action] = useState([\r\n  { id : 0,Query: \"SELECT * FROM\",BU : '',parentid:'no'},\r\n  { id : 1,Query: \"@bu_table\",BU : '',parentid:'no'},\r\n  { id : 1 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 1},\r\n  { id : 2 ,Query: \"dsfsdfdsfdsf\",BU:'WTCMY',parentid : 1},\r\n  { id : 3 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 1},\r\n  { id : 4 ,Query: \"WHERE condition\",BU : '',parentid:'no'},\r\n  { id : 5 ,Query: \"@bu\",BU : '',parentid:'no'},\r\n  { id : 6 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTW',parentid : 5},\r\n  { id : 7 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 5},\r\n  { id : 8 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 5},\r\n]);\r\n\r\n\r\n\r\nconst [previsu_data,previous_action] = useState([\r\n  { id : 0,Query: \"SELECT * FROM\",BU : '',parentid:'no'},\r\n  { id : 1,Query: \"@bu_table\",BU : '',parentid:'no'},\r\n  { id : 1 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 1},\r\n  { id : 2 ,Query: \"dsfsdfdsfdsf\",BU:'WTCMY',parentid : 1},\r\n  { id : 3 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 1},\r\n  { id : 4 ,Query: \"WHERE condition\",BU : '',parentid:'no'},\r\n  { id : 5 ,Query: \"@bu\",BU : '',parentid:'no'},\r\n  { id : 6 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTW',parentid : 5},\r\n  { id : 7 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 5},\r\n  { id : 8 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 5},\r\n]);\r\n\r\nconst [data, setData] = useState([\r\n  { id : 0,Query: \"SELECT * FROM\",BU : '',parentid:'no'},\r\n  { id : 1,Query: \"@bu_table\",BU : '',parentid:'no'},\r\n  { id : 1 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 1},\r\n  { id : 2 ,Query: \"dsfsdfdsfdsf\",BU:'WTCMY',parentid : 1},\r\n  { id : 3 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 1},\r\n  { id : 4 ,Query: \"WHERE condition\",BU : '',parentid:'no'},\r\n  { id : 5 ,Query: \"@bu\",BU : '',parentid:'no'},\r\n  { id : 6 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTW',parentid : 5},\r\n  { id : 7 ,Query: \"dsfsdfdsfdsf\",BU:'Others',parentid : 5},\r\n  { id : 8 ,Query: \"dsfsdfdsfdsf\",BU:'WTCTH',parentid : 5},\r\n\r\n]);\r\n\r\nconst [columns, setColumns] = useState([\r\n  { title: \"Query\", field: \"Query\" },\r\n  { title: \"BU\", field: \"BU\" },\r\n]);\r\n\r\n\r\n// const handleDeleteRows = (event, rowData) => {\r\n\r\n  \r\n//   //isLoading = true\r\n//   // let dataUpdate = [...data];\r\n//   // let row_table = [...data];\r\n//   // let range = [...Array(row_table.length).keys()];\r\n//   // let target_id = newValue.id\r\n//   // let pass_index = ''\r\n  \r\n//   // for (const[first , second] of zip(row_table , range))\r\n//   //   if (first.id == target_id)\r\n//   //   {pass_index = second ;\r\n//   //     break\r\n//   //   }\r\n    \r\n//   // console.log('test')\r\n//   // console.log(pass_index)\r\n\r\n//   rowData = [rowData]\r\n//   let _data = [...data];\r\n//   console.log(rowData)\r\n//   rowData.forEach(rd => {\r\n//     _data = _data.filter(t => t.id !== rd.id);\r\n//   });\r\n//   let new_data = _data\r\n//   if (rowData[0].parentid != 'no'){console.log('pass'); setData(_data);}\r\n//   else {new_data.forEach(rd => {\r\n//     _data = _data.filter(t => t.parentid !== rowData[0].id)\r\n//   }); setData(_data);\r\n// } \r\n// };\r\n\r\n//TODO: wtcmy missing\r\n//TODO: % as child data recongiztion\r\nconst ExportOption = () => {\r\n  let bu_list_use = ['ftrhk','pnshk','wtchk','wtcid','wtcph','wwhk','wtctw','wtcmy','wtcth','wtcsg']\r\n  let bu_list = []\r\n  var export_data = [...data]\r\n  let parent_data = []\r\n  var child_data = []\r\n  let export_json = {}\r\n  let counter = 0\r\n  let unqiue_child = []\r\n  let unqiue_child_list = []\r\n  var temp_query = '.'\r\n\r\n  //export the master file\r\n  var test = ExportMaster()\r\n\r\n  return \r\n// console.log(export_data)\r\n\r\n  for (let low_bu in bu_list_use)\r\n  {bu_list.push(bu_list_use[low_bu].toUpperCase())}\r\n\r\n  // seperated export_data into two type\r\n  for (let data_use in export_data)\r\n  if (export_data[data_use].parentid == 'no')\r\n  {parent_data.push(export_data[data_use])}\r\n  else \r\n  {  \r\n    child_data.push(export_data[data_use])}\r\n\r\n\r\n  let temp_child_data = child_data\r\n  let complete_bu = bu_list\r\n\r\n\r\n  // get all bu child data\r\n  for (let child in child_data)\r\n  {unqiue_child.push(child_data[child].parentid)}\r\n\r\n  // only extract unique child data\r\n  unqiue_child = [... new Set(unqiue_child)]  \r\n  // console.log(unqiue_child)\r\n\r\n  // add all remaining bu in child data\r\n  for (var new_id in unqiue_child)\r\n      {\r\n      temp_query = temp_child_data.filter(n => n.parentid == unqiue_child[new_id] && n.BU == 'Others')\r\n      // console.log(temp_child_data)\r\n      temp_query = temp_query[0]\r\n      let temp_list = child_data.filter(n => n.parentid == unqiue_child[new_id])\r\n      temp_list.forEach(element => {\r\n        complete_bu =  complete_bu.filter(n => n !== element.BU)\r\n        // console.log(complete_bu)\r\n        // console.log(temp_query)\r\n        \r\n       })\r\n      for (var bu_child in complete_bu)\r\n      {\r\n       let new_query = {}\r\n       new_query['id'] = temp_query['id']\r\n       new_query['Query'] = temp_query['Query']\r\n       new_query['BU'] =complete_bu[bu_child]\r\n       new_query['parentid'] = temp_query['parentid']\r\n\r\n       child_data.push(new_query)\r\n\r\n      }\r\n    }\r\n    child_data = child_data.filter(n => n.BU != 'Others')\r\n    console.log(child_data)\r\n  \r\n\r\n  for (var bu in bu_list )\r\n  {export_json[bu_list[bu]] = []\r\n    for (var p_query in parent_data)\r\n    {\r\n      if (parent_data[p_query].Query.includes('@') == true)\r\n      {//create id only \r\n        // console.log(parent_data[p_query].Query.includes('%'))\r\n        for (var c_query in child_data )\r\n        {if(child_data[c_query].parentid == parent_data[p_query].id && child_data[c_query].BU == bu_list[bu])\r\n        {\r\n        export_json[bu_list[bu]].push(child_data[c_query].Query)\r\n        }}\r\n      }\r\n      else\r\n      {export_json[bu_list[bu]].push(parent_data[p_query].Query)}\r\n\r\n    \r\n\r\n    \r\n  }\r\n}\r\nconsole.log(export_json)\r\n\r\n  }\r\n\r\n  const ExportMaster = () => {\r\n    let master_export = [...data]\r\n    let template_query = []\r\n    let template_json = {}\r\n    \r\n    //create the teamplate_query\r\n    for (var temp in master_export)\r\n    {if (master_export[temp].parentid == 'no')\r\n    {template_query.push(master_export[temp].Query)}\r\n  }\r\n    //create the bu-specifci variable\r\n    for (var temp in master_export)\r\n    {if (master_export[temp].Query.includes('@') == true)\r\n    {var skip_firster = master_export[temp].Query.substring(1)\r\n     template_json[skip_firster] = []\r\n    for (var temp_sub in master_export)\r\n    {\r\n      if (master_export[temp_sub].parentid == master_export[temp].id)\r\n      {\r\n        template_json[skip_firster].push({'BU':master_export[temp_sub].BU,\r\n                                          'Query':master_export[temp_sub].Query})\r\n\r\n      }\r\n      \r\n    \r\n\r\n    }\r\n  \r\n  }\r\n  \r\n  }\r\n  // export the data to json\r\n  template_json['template_query'] = template_query\r\n  const fileData = JSON.stringify(template_json);\r\n  const blob = new Blob([fileData], {type: \"text/plain\"});\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement('a');\r\n  link.download = 'master.json';\r\n  link.href = url;\r\n  link.click();\r\n\r\n}\r\n\r\n    \r\n    \r\n    \r\n    \r\n  //   }\r\n  // }\r\n  // console.log(export_json)\r\n  // //console.log(counter)\r\n\r\n \r\n\r\n  \r\n\r\nconst handleAddRows = (event , rowData) => {\r\n  previous_action([...data])\r\n  rowData = [rowData]\r\n  // TODO:\r\n  // DONE , rmb to change the text trasnform of parentid to 'no'\r\n  // setIsLoading(true)\r\n  if (rowData.length != 1){return(alert('you can\"t select more than one row when u add new row'));}\r\n  let _data = [...data];\r\n  let range = [...Array(_data.length).keys()];\r\n  let random_id = Math.floor(Math.random() * 1000000);\r\n  let index_variable = rowData[0].id\r\n  let index_partent = rowData[0].parentid\r\n  let id_list = []\r\n  let obj = undefined\r\n  \r\n  for (const item_key in _data )\r\n  {id_list.push(_data[item_key].id)}\r\n\r\n//   console.time('Timer name');\r\n//   console.log('a')\r\n// //do critical time stuff\r\n// console.timeEnd('Timer name');\r\nconsole.log('b')\r\n  while (obj != undefined){\r\n    random_id = Math.floor(Math.random() * 1000000);\r\n    obj = id_list.find(element => element == random_id);\r\n    if (obj == undefined){\r\n      obj = id_list.find(element => element == random_id + 1) ;\r\n      \r\n    }\r\n  }\r\n//   console.time('Timer name');\r\n//   console.log('c')\r\n// //do critical time stuff\r\n// console.timeEnd('Timer name');\r\n\r\nfor (const[first , second] of zip(_data , range))\r\n    \r\n      if (first.id == index_variable)\r\n      { \r\n        //console.log(rowData[0].parentid)\r\n        //console.log(rowData)\r\n        \r\n\r\n        if (rowData[0].parentid != 'no')\r\n      { \r\n        _data.splice( second + 1 ,0,\r\n          \r\n          { \r\n        id : random_id,\r\n        Query: 'haha',\r\n        BU:'NULL',\r\n        parentid : index_partent});\r\n      }\r\n       else\r\n       {  \r\n        // console.log(rowData[0].parentid)\r\n\r\n         _data.splice( second + 1 ,0,\r\n        { \r\n        id :random_id,\r\n        Query: 'NULL',\r\n        BU:'',\r\n        parentid : \"no\"\r\n        }\r\n        ,\r\n        {\r\n          id : random_id + 1,\r\n          Query: 'NULL',\r\n          BU:'NULL',\r\n          parentid : random_id\r\n          }\r\n        \r\n        \r\n        );\r\n      }\r\n    break}\r\n \r\n  setTimeout(() => {\r\n    setData(_data);\r\n    first_set(false);\r\n    // setIsLoading(false)\r\n    \r\n  }, 500)\r\n};\r\n\r\nconst DrageState = {\r\n  row: -1,\r\n  dropIndex: -1 // drag target\r\n};\r\n\r\nconst offsetIndex = (from, to, arr = []) => {\r\n  if (from < to) {\r\n    console.log('to higher')\r\n    let start = arr.slice(0, from),\r\n      between = arr.slice(from + 1, to + 1),\r\n      end = arr.slice(to + 1);\r\n      //console.log(between)\r\n      //console.log(arr[from])\r\n    // console.log(start)\r\n    // console.log(arr[from].parentid)\r\n    let return_list =  [...start, ...between, arr[from], ...end]\r\n    if (arr[from].parentid != 'no'){return return_list}\r\n    else {\r\n      let reload_data = []\r\n      let temp_list = []\r\n      let range = [...Array(between.length).keys()];\r\n\r\n      for (const[first, second] of zip(between , range))\r\n      if (first.parentid == arr[from].id)\r\n      {\r\n        reload_data.push(second);\r\n        temp_list.push(first)\r\n      };\r\n      \r\n    if (reload_data.length == 0)\r\n    { return return_list} \r\n    else{\r\n      console.log(reload_data)\r\n      let min_math = Math.min(reload_data)\r\n      let new_between = between.splice(min_math,between.length-1)\r\n      console.log(new_between)\r\n      console.log(between)\r\n      console.log(start)\r\n      console.log(arr[0,from])\r\n      //console.log(new_between)\r\n      let new_return = [...start, ...between, arr[from],...temp_list ,...end]\r\n      //console.log(new_between)\r\n      //console.log(between)\r\n      console.log(new_return)\r\n      return new_return\r\n    }\r\n      }\r\n    }\r\n  if (from > to) {\r\n    let start = arr.slice(0, to),\r\n      between = arr.slice(to, from),\r\n      end = arr.slice(from + 1);\r\n      //console.log()\r\n    return [...start, arr[from], ...between, ...end];\r\n  }\r\n  return arr;\r\n};\r\nconst reOrderRow = (from, to) => {\r\n  //console.log(from)\r\n  //console.log(to)\r\n\r\n  //TODO:\r\n  previous_action([...data])\r\n  let _data = data;\r\n  //console.log(from)\r\n  //console.log(_data[from].parentid)\r\n  if (_data[from].parentid == 'no' & _data[to].parentid=='no'){}\r\n  else {if(_data[from].parentid != 'no' & _data[to].parentid != 'no')\r\n  {if(_data[from].parentid == _data[to].parentid){} else{return}}\r\n  else{return}}\r\n  \r\n  let newtableData = offsetIndex(from, to, _data);\r\n  //console.log(newtableData)\r\n  //Update react state\r\n\r\n  setData(newtableData);\r\n  first_set(false);\r\n\r\n  //console.log(newtableData)\r\n  //console.log(data)\r\n\r\n};\r\n\r\n//upload file function \r\n//const[colDefs,setColDefs] = useState()\r\n//const[dataDefs,setDataDefs] = useState()\r\n\r\nconst importExcel =(e) =>{\r\n  //previous_action([...data])\r\n  //console.log(e.target.files)\r\n  const file = e.target.files[0]\r\n  //var mydata = JSON.parse(file);\r\n\r\n  //alert(mydata[0].name);\r\n  //alert(mydata[0].age);\r\n  //alert(mydata[1].name);\r\n  //alert(mydata[1].age); \r\n\r\n  //return \r\n\r\n  const reader = new FileReader()\r\n  reader.onload=(e)=>{\r\n    var jsonObj = JSON.parse(e.target.result);\r\n    var query_list = [] \r\n    for (var temp_que in jsonObj.template_query)\r\n    {\r\n      var random_id = Math.floor(Math.random() * 1000000); \r\n      if (jsonObj.template_query[temp_que].includes('@') != true)\r\n      {query_list.push(\r\n        { id : random_id,\r\n          Query: jsonObj.template_query[temp_que],\r\n          BU : '',\r\n          parentid:'no'}\r\n      )\r\n      }\r\n      else \r\n      {var skip_first = jsonObj.template_query[temp_que].substring(1)\r\n        query_list.push(\r\n          { id : random_id,\r\n            Query: jsonObj.template_query[temp_que],\r\n            BU : '',\r\n            parentid:'no'}\r\n        )\r\n        for (var sub_data in jsonObj[skip_first])\r\n        {query_list.push(\r\n          {\r\n          id : random_id + Math.floor(Math.random() * 100),\r\n          Query:jsonObj[skip_first][sub_data].Query,\r\n          BU : jsonObj[skip_first][sub_data].BU,\r\n          parentid : random_id\r\n\r\n          }\r\n        )\r\n        }\r\n      }\r\n\r\n      }\r\n      setData(query_list)\r\n    \r\n\r\n  \r\n  \r\n  //console.log(query_list)\r\n    //{console.log(jsonObj.template_query[temp_que])}\r\n\r\n\r\n\r\n    //{ id : 0,Query: \"SELECT * FROM\",BU : '',parentid:'no'},\r\n\r\n    //console.log(e.target.result)\r\n  \r\n\r\n  return \r\n\r\n  const bstr=e.target.result\r\n  const workBook =XLSX.read(bstr,{type:\"binary\"})\r\n  const workSheetName = workBook.SheetNames\r\n\r\n  const workSheet=workBook.Sheets[workSheetName]\r\n  //convert to array  \r\n  const fileData=XLSX.utils.sheet_to_csv(workSheet,{header:1})\r\n  //console.log(fileData)\r\n\r\n  //console.log(fileData[0])\r\n  //console.log(convertToJson(fileData))\r\n  var json_data = convertToJson(fileData)\r\n  //console.log(json_data)\r\n  json_data.splice(-1)\r\n\r\n  setData(json_data)\r\n  first_set(false);\r\n\r\n//const headers = fileData[0]\r\n//  reader.readAsBinaryString(file)\r\n\r\n  }\r\nreader.readAsBinaryString(file)\r\n}\r\n\r\n// convert csv to json\r\nconst convertToJson = (csv) => {\r\n  var lines = csv.split(\"\\n\");\r\n\r\n  var result = [];\r\n\r\n  var headers = lines[0].split(\",\");\r\n\r\n  for (var i = 1; i < lines.length; i++) {\r\n    var obj = {};\r\n    var currentline = lines[i].split(\",\");\r\n    //console.log(currentline)\r\n\r\n    for (var j = 0; j < headers.length; j++) {\r\n      obj[headers[j]] = currentline[j];\r\n    }\r\n\r\n    result.push(obj);\r\n  }\r\n\r\n  //return result; //JavaScript object\r\n  return (result) //JSON\r\n};\r\n\r\n// const onDragEnd = (result) => {\r\n//   const { destination, source } = result;\r\n//   if (!destination) return;\r\n//   if (source.index !== destination.index) {\r\n//     let copyArray = [...data];\r\n//     let temp = data[source.index];\r\n//     copyArray.splice(source.index, 1);\r\n//     copyArray.splice(destination.index, 0, temp);\r\n//     setData(copyArray);\r\n//   }\r\n// };\r\nconst [first_disable,first_set] = useState(true)\r\n\r\nconst lastpage = () => {\r\n  \r\n  setData(previsu_data)\r\n  first_set(true)\r\n  }\r\n//   this.setState({ visible: true })\r\n//   console.log(previsu_data)\r\n//   console.log('last_page')\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <div className = \"OCTAVIA\">\r\n         <input type ='file' onChange ={importExcel}/>\r\n    {isLoading? \r\n    <div style={{ width: 200, height: 200 }}>\r\n    <CircularProgress value={66}\r\n     />\r\n  </div>:\r\n\r\n//{/* <tr>\r\n//<td colspan=\"6\">\r\n//  <CircularProgress/>\r\n//</td>\r\n//</tr>: */}\r\n\r\n  <MaterialTable \r\n  \r\n  title=\"Query Editior\" \r\n  // onTreeExpandChange = {(path,data) =>{\r\n  //   this.dataManager.changeTreeExpand(path);\r\n  //   this.setState(this.dataManager.getRenderState(), () => {\r\n  //     this.props.onTreeExpandChange &&\r\n  //       this.props.onTreeExpandChange(data, data.tableData.isTreeExpanded)\r\n  //   })}}\r\n\r\n    editable = {{onRowUpdate:(newValue, oldValue, rowData, columnDef) =>\r\n      new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n          let dataUpdate = [...data];\r\n          let row_table = [...data];\r\n          let range = [...Array(row_table.length).keys()];\r\n          let target_id = newValue.id\r\n          let pass_index = ''\r\n          \r\n          for (const[first , second] of zip(row_table , range))\r\n            if (first.id == target_id)\r\n            {pass_index = second ;\r\n              break\r\n            }\r\n            \r\n          console.log('test')\r\n          console.log(pass_index)\r\n\r\n\r\n\r\n          // const index = oldValue.tableData.id;\r\n          // console.log(oldValue.tableData)\r\n          // console.log(newValue)\r\n          //console.log(columnDef)\r\n            dataUpdate = dataUpdate.filter(t => t.id !== newValue.id);\r\n            dataUpdate.splice(pass_index,0,newValue)\r\n          \r\n          // dataUpdate\r\n          // dataUpdate[pass_index] = newValue\r\n          //console.log(dataUpdate_use)\r\n          previous_action([...data]);\r\n          setData(dataUpdate);\r\n          first_set(false)\r\n          resolve();\r\n        }, 1000)\r\n      }),\r\n\r\n\r\n    onRowDelete:(newValue, oldValue, rowData, columnDef) =>\r\n        new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n           // console.log(newValue)\r\n           // console.log(oldValue)\r\n          let rowData = [newValue];\r\n          let _data = [...data];\r\n          console.log(rowData)\r\n      rowData.forEach(rd => {\r\n        _data = _data.filter(t => t.id !== rd.id);\r\n      });\r\n      //console.log(_data)\r\n      let new_data = _data\r\n      if (rowData[0].parentid != 'no'){console.log('pass'); setData(_data);}\r\n      else {new_data.forEach(rd => {\r\n        _data = _data.filter(t => t.parentid !== rowData[0].id)\r\n      })}; \r\n      previous_action([...data])\r\n      setData(_data);\r\n      first_set(false);\r\n      resolve();\r\n    }, 1000)\r\n        }),\r\n\r\n    \r\n    }}\r\n    \r\n            \r\n\r\n        \r\n      \r\n        \r\n  \r\n\r\n\r\n  // editable = {{onRowAdd:setIsLoading(false)}}\r\n  columns={\r\n    columns\r\n  }\r\n  data={data} \r\n  parentChildData={(row, rows) => rows.find(a => a.id == row.parentid)}\r\n  // onTreeExpandChange={() => console.log('test tree expand change')}\r\n  //onTreeExpandChange={(data,isTreeExpanded) => console.log(data)}\r\n\r\n    \r\n  icons={tableIcons}\r\n  options={{\r\n    headerSelectionProps: {\r\n      disabled : true    },\r\n    //addRowPosition: \"Last\",\r\n    //search: false,\r\n    //actionsColumnIndex: 20,\r\n    //headerStyle: { position: 'sticky',top:0},\r\n    isLoading: true,\r\n    sorting : true,\r\n    //minBodyHeight:500,\r\n    //maxBodyHeight:1000,\r\n    paging:false,\r\n    padding:'dense',\r\n    //editable =true,\r\n    // exportButton: {\r\n    //   csv: true,\r\n    //   pdf: false,\r\n    //   //animals :true\r\n    // },\r\n    //exportAllData : true,\r\n  //   exportCsv: (data, columns) => {const columnTitles = columns\r\n  //     .map(columnDef => columnDef.title);\r\n  \r\n  // const csvData = data.map(rowData =>\r\n  //       columns.map(columnDef => rowData[columnDef.field]),\r\n  //     );\r\n\r\n  // const builder = new CsvBuilder(`data.csv`)\r\n  //       .setColumns(columnTitles)\r\n  //       .addRows(csvData)\r\n  //       .exportFile();\r\n\r\n  // return builder;\r\n\r\n  // exportButton: {\r\n  //   csv: true,\r\n  //   pdf: true\r\n  // } ,    \r\n  selection : true,\r\n    draggable: false,\r\n    selectionProps: row => ({\r\n                            disabled : true\r\n\r\n                            \r\n                          }),\r\n    rowStyle: {\r\n      fontSize: 12,\r\n      //height: 0,\r\n\r\n    },\r\n    //cellStyle : {width:0,\r\n     //           height:0},\r\n\r\n\r\n    //selectionProps: row => ({disabled: row.tableData.disabled})\r\n    \r\n    }}\r\n\r\n    // localization={{\r\n    //   toolbar: {\r\n    //     exportCSVName: \"Export CSV\",\r\n    //    // exportPDFName: \"Export as pdf!!\"\r\n    //   },\r\n      \r\n    // }}\r\n    \r\n    // cellEditable={{\r\n    //   onCellEditApproved: (newValue, oldValue, rowData, columnDef) => {\r\n    //     return new Promise((resolve, reject) => {\r\n    //       const clonedData = [...data]\r\n    //      //console.log('haha')\r\n    //       console.log(clonedData)\r\n    //       console.log(newValue)\r\n    //       console.log(rowData.id)\r\n    //       console.log(columnDef.field)\r\n    //       //console.log(clonedData[rowData.id][columnDef.field])\r\n    //       clonedData[rowData.id][columnDef.field] = newValue //TODO click yes has no repsonse\r\n    //       console.log('dfdf')\r\n\r\n    //       console.log(clonedData)\r\n    //       setData(clonedData)\r\n    //       setTimeout(resolve, 4000);\r\n\r\n    //       // setTimeout(() => {\r\n    //       //   setData(clonedData);            \r\n    //       // }, 5\r\n    //       // )\r\n          \r\n    //     });\r\n    //   }\r\n    // }}\r\n    //LastPage\r\n    actions={[\r\n      {icon: tableIcons.FirstPage,\r\n        tooltip: \"last step\",\r\n          onClick: lastpage,\r\n          //,isFreeAction:true\r\n          position : 'toolbar'  ,\r\n          disabled : first_disable == true\r\n        },\r\n      {icon: tableIcons.Export,\r\n      tooltip: \"export\",\r\n        onClick: ExportOption,\r\n        //,isFreeAction:true\r\n        position : 'toolbar'\r\n\r\n      },\r\n      {icon: tableIcons.Add,\r\n        tooltip: \"Add Rows\",\r\n        position : 'row',\r\n        //hidden : true,\r\n        //isFreeAction : true,\r\n        //onKeypress: console.log('haha'),\r\n          onClick: handleAddRows,\r\n          //isLoading: true,\r\n\r\n          \r\n\r\n        }\r\n        // {icon: tableIcons.Edit,\r\n        //   tooltip: \"Edit\",\r\n        //   //isFreeAction : true,\r\n        //   //onKeypress: console.log('haha')\r\n        //     onClick: handleAddRows\r\n            \r\n        //    // , isFreeAction:true\r\n  \r\n          // }\r\n        \r\n        \r\n    ]}\r\n    // TODO working on rewriting the editfield component to add enter or delete function\r\n    components={{\r\n      Row: (props) => (\r\n        <MTableBodyRow\r\n          {...props}\r\n          draggable= \"true\"\r\n          // onKeyUp={event => {\r\n          //   if (event.key === \"Enter\"){handleAddRows(1,props.data.tableData)}}}\r\n            \r\n          //onKeyPress={handleAddRows(1,props.data.tableData)}\r\n          onDragStart={(e) => {\r\n            //console.log(\"onDragStart\");\r\n            let row_table = [...data]\r\n            let range = [...Array(row_table.length).keys()];\r\n            let target_id = props.data.id\r\n            //let pass_index = ''\r\n            for (const[first , second] of zip(row_table , range))\r\n              if (first.id == target_id)\r\n              {DrageState.row = second ;\r\n              break}\r\n\r\n              //console.log(range)\r\n\r\n\r\n            //console.log(pass_index)\r\n            //DrageState.row = props.data.tableData.id;\r\n            //DrageState.row = pass_index;\r\n\r\n            //console.log(DrageState.row);\r\n\r\n          }}\r\n          onDragEnter={(e) => {\r\n            let row_table = [...data]\r\n            let range = [...Array(row_table.length).keys()];\r\n            let target_id = props.data.id\r\n            let pass_index = ''\r\n\r\n            for (const[first , second] of zip(row_table , range))\r\n              if (first.id == target_id)\r\n              {pass_index = second ;\r\n              break}\r\n              //console.log(pass_index)\r\n\r\n\r\n            //e.preventDefault();\r\n            //console.log(\"onDragEnter\");\r\n            if (pass_index !== DrageState.row) {\r\n              DrageState.dropIndex = pass_index;\r\n            }\r\n          }}\r\n\r\n          onDragEnd={(e) => {\r\n            //console.log(`onDragEnd`);\r\n            if (DrageState.dropIndex !== -1) {\r\n              reOrderRow(DrageState.row, DrageState.dropIndex);\r\n            }\r\n            //DrageState.row = -1;\r\n            //DrageState.dropIndex = -1;\r\n          }}\r\n\r\n        />\r\n\r\n        \r\n      )\r\n    }\r\n  }\r\n  />\r\n  }\r\n</div>\r\n\r\n  \r\n  \r\n\r\n  );\r\n};\r\n\r\nexport default BasicTable \r\n\r\n\r\n\r\n  ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport BasicTable from './App'\r\n\r\n//import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BasicTable />,\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n//reportWebVitals();\r\n"],"sourceRoot":""}